<template>
  <div class="content-box">
    <TreeFilter
      label="name"
      title="é¡¹ç›®é›†åˆ"
      :data="testData"
      :default-value="treeFilterValue.CollectionId"
      @change="changeTreeFilter"
    />
    <div class="descriptions-box card">
      <span class="text"> æ ‘å½¢ç­›é€‰å™¨ ğŸ“ğŸ‡ğŸˆğŸ‰</span>
      <el-descriptions title="é…ç½®é¡¹ ğŸ“š" :column="1" border>
        <el-descriptions-item label="requestApi"> è¯·æ±‚åˆ†ç±»æ•°æ®çš„ api </el-descriptions-item>
        <el-descriptions-item label="data"> åˆ†ç±»æ•°æ®ï¼Œå¦‚æœæœ‰åˆ†ç±»æ•°æ®ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œ api è¯·æ±‚ </el-descriptions-item>
        <el-descriptions-item label="title"> treeFilter æ ‡é¢˜ </el-descriptions-item>
        <el-descriptions-item label="id"> é€‰æ‹©çš„idï¼Œé»˜è®¤ä¸º â€œidâ€ </el-descriptions-item>
        <el-descriptions-item label="label"> æ˜¾ç¤ºçš„labelï¼Œé»˜è®¤ä¸º â€œlabelâ€ </el-descriptions-item>
        <el-descriptions-item label="multiple"> æ˜¯å¦ä¸ºå¤šé€‰ï¼Œé»˜è®¤ä¸º false </el-descriptions-item>
        <el-descriptions-item label="defaultValue"> é»˜è®¤é€‰ä¸­çš„å€¼ </el-descriptions-item>
      </el-descriptions>
    </div>
  </div>
</template>

<script setup lang="ts" name="treeFilter">
import { reactive } from "vue";
import { ElMessage } from "element-plus";
import TreeFilter from "@/components/TreeFilter/index.vue";

const treeFilterValue = reactive({ CollectionId: "1" });
const testData = [
  {
    id: "1",
    name: "Category 1",
    isDir: true,
    children: [
      { id: "11", name: "Subcategory 1.1" },
      { id: "12", name: "Subcategory 1.2" }
    ]
  },
  {
    id: "2",
    name: "Category 2",
    children: [
      { id: "21", name: "Subcategory 2.1" },
      { id: "22", name: "Subcategory 2.2" }
    ]
  }
];
const changeTreeFilter = (val: string) => {
  ElMessage.success(`ä½ é€‰æ‹©äº† id ä¸º ${val} çš„æ•°æ®ğŸ¤”`);
  treeFilterValue.CollectionId = val;
};
</script>

<style scoped lang="scss">
@import "./index.scss";
</style>
